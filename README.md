# clipboard-syn
剪切板流转
2025-01-14
## 安卓剪切板
后台剪切板监听方式：
1. 应用在前台已悬浮窗（SYSTEM_ALERT_WINDOW）+通知栏形式运行，成为焦点后直接获取剪切板。
2. 使用maskxxx对设备进行root，然后将应用转换为系统应用并放置在系统应用目录中，可能需要重新签名才能使其获得权限，但签名后可能无法解除root。
4. （不可行）使用ADB调试让应用获得权限。
5. （不可行）注册为默认输入法应用。
在 Android 10（API 29）及以上版本中，谷歌对剪切板访问的权限进行了严格限制，并没有提供任何允许应用在后台监听剪切板内容的权限请求接口。
Android 10的剪切板机制：
只有前台应用和默认输入法应用（例如用户当前使用的键盘）可以访问剪切板内容。
后台应用尝试访问剪切板会导致访问失败，返回空或抛出安全异常。

## 安卓通信
  [使用WebSocket协议进行通信，安卓使用](https://www.iodraw.com/blog/230676996)
  https://chatgpt.com/share/6786902a-f340-8003-8539-41ae816e153a
  
send:
1. 对数据进行加密。
2. 广播数据包。

monitor：
1. 监听数据广播包，收到后进行解密。
2. 写入系统剪切板。
  
## PC通信
1.手动点击发送剪切板数据广播包。
2.监听处理数据广播包。

## 信息加密

短数据采用？
长数据可采用分组加密。
  
